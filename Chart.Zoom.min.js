/*!
 * Chart.Zoom.js
 * http://chartjs.org/
 * Version: 0.1.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Zoom.js/blob/master/LICENSE.md
 */
!function o(e,n,t){function i(r,l){if(!n[r]){if(!e[r]){var u="function"==typeof require&&require;if(!l&&u)return u(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var m=n[r]={exports:{}};e[r][0].call(m.exports,function(o){var n=e[r][1][o];return i(n?n:o)},m,m.exports,o,e,n,t)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<t.length;r++)i(t[r]);return i}({1:[function(o,e,n){},{}],2:[function(o,e,n){function t(o,e){return void 0===o?!0:"string"==typeof o?-1!==o.indexOf(e):!1}function i(o,e,n){}function a(o,e,n){var t,i,a,r=o.options;a=o.isHorizontal()?(o.right-o.left)*(e-1):(o.bottom-o.top)*(e-1),t=i=a/2,r.time.min=o.getValueForPixel(o.getPixelForValue(o.firstTick)+t),r.time.max=o.getValueForPixel(o.getPixelForValue(o.lastTick)-i)}function r(o,e,n){var t=(o.max-o.min)*(e-1);o.options.ticks.min=o.min+t/2,o.options.ticks.max=o.max-t/2}function l(o,e,n){var t=h[o.options.type];t&&t(o,e,n)}function u(o,e,n){var i=o.chartArea;n||(n={x:(i.left+i.right)/2,y:(i.top+i.bottom)/2});var a=o.options.zoom;if(a&&x.getValueOrDefault(a.enabled,F.zoom.enabled)){var r=x.getValueOrDefault(o.options.zoom.mode,F.zoom.mode);x.each(o.scales,function(o,i){o.isHorizontal()&&t(r,"x")?l(o,e,n):t(r,"y")&&l(o,e,n)}),o.update(0)}}function c(o,e){}function m(o,e){var n=o.options;n.time.min=o.getValueForPixel(o.getPixelForValue(o.firstTick)-e),n.time.max=o.getValueForPixel(o.getPixelForValue(o.lastTick)-e)}function s(o,e){var n=o.options,t=o.start,i=o.end;n.ticks.reverse?(n.ticks.max=o.getValueForPixel(o.getPixelForValue(t)-e),n.ticks.min=o.getValueForPixel(o.getPixelForValue(i)-e)):(n.ticks.min=o.getValueForPixel(o.getPixelForValue(t)-e),n.ticks.max=o.getValueForPixel(o.getPixelForValue(i)-e))}function f(o,e){var n=g[o.options.type];n&&n(o,e)}function p(o,e,n){var i=o.options.pan;if(i&&x.getValueOrDefault(i.enabled,F.pan.enabled)){var a=x.getValueOrDefault(o.options.pan.mode,F.pan.mode);x.each(o.scales,function(o,i){o.isHorizontal()&&t(a,"x")&&0!==e?f(o,e):t(a,"y")&&0!==n&&f(o,n)}),o.update(0)}}var d=o("hammerjs");d="function"==typeof d?d:window.Hammer;var v=o("chart.js");v="function"==typeof v?v:window.Chart;var x=v.helpers;v.Zoom=v.Zoom||{};var h=v.Zoom.zoomFunctions=v.Zoom.zoomFunctions||{},g=v.Zoom.panFunctions=v.Zoom.panFunctions||{},F=v.Zoom.defaults={pan:{enabled:!0,mode:"xy",threshold:10},zoom:{enabled:!0,mode:"xy"}};v.Zoom.zoomFunctions.category=i,v.Zoom.zoomFunctions.time=a,v.Zoom.zoomFunctions.linear=r,v.Zoom.zoomFunctions.logarithmic=r,v.Zoom.panFunctions.category=c,v.Zoom.panFunctions.time=m,v.Zoom.panFunctions.linear=s,v.Zoom.panFunctions.logarithmic=s;var V=v.PluginBase.extend({beforeInit:function(o){var e=o.chart.ctx.canvas,n=o.options,t=x.getValueOrDefault(n.pan?n.pan.threshold:void 0,v.Zoom.defaults.pan.threshold),i=function(e){e.wheelDelta>0?u(o,1.1):u(o,.909)};if(o._wheelHandler=i,e.addEventListener("mousewheel",i),d){var a=new d.Manager(e);a.add(new d.Pinch),a.add(new d.Pan({threshold:t}));var r,l=function(e){var n=1/r*e.scale;u(o,n,e.center),r=e.scale};a.on("pinchstart",function(o){r=1}),a.on("pinch",l),a.on("pinchend",function(o){l(o),r=null});var c=null,m=null,s=function(e){if(null!==c&&null!==m){var n=e.deltaX-c,t=e.deltaY-m;c=e.deltaX,m=e.deltaY,p(o,n,t)}};a.on("panstart",function(o){c=0,m=0,s(o)}),a.on("panmove",s),a.on("panend",function(o){c=null,m=null}),o._mc=a}},destroy:function(o){var e=(o.chart.ctx.canvas,o._mc);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"))}});v.pluginService.register(new V)},{"chart.js":1,hammerjs:1}]},{},[2]);